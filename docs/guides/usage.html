<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
    <link rel="stylesheet" href="../css/fw2020.css">
    
    
   <title>Usage - TMLPersistentContainer 6.0.0</title>
    
  </head>
  <body class="j2-swift " data-root-path="./../" data-doc-path="guides/usage.html" data-assets-path="../">

  <!-- messages for search -->
  <div hidden>
    <span id="text-loading">Loading index...</span>
    <span id="text-failed">Failed to load index</span>
    <span id="text-notfound">No matches</span>
  </div>

  <header class="j2-header">
  <div class="navbar navbar-expand navbar-dark j2-titlebar">
  <div class="container-fluid ps-0 pe-0">
  <a class="visually-hidden-focusable visually-hidden fw-slightly-bold pe-2" href="#main-content">Skip to main content</a>
  <a class="nav-item nav-link ps-0 pt-1 pe-2 d-md-none" id="nav-toggle-button" role="button" aria-controls="nav-column" aria-expanded="false" aria-label="Toggle navigation" href="#">
    <span class="navbar-toggler-icon"></span>
  </a>

  <div class="navbar-brand me-1 fw-slightly-bold">
    
    <a href="../index.html">
    
    TMLPersistentContainer 6.0.0</a>
  </div>
  
  <span class="navbar-text j2-coverage fw-slightly-bold small d-none d-lg-inline-block me-2">(100% documented)</span>
  

  <div class="navbar-nav ms-auto justify-content-end flex-fill">

    
    <form class="d-none d-md-block my-auto pe-2 ps-2" role="search">
      <input class="form-control form-control-sm w-100" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="span">
    </form>
    

    
    <div class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="language-menu" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Swift</a>
      <div class="dropdown-menu dropdown-menu-end dropdown-menu-md-start" role="menu" aria-labelledby="language-menu">
        <a class="dropdown-item" href="" id="language-menu-swift" role="menuitem">Swift</a>
        <a class="dropdown-item" href="" id="language-menu-objc" role="menuitem">ObjC</a>
      </div>
    </div>
    

    
    <a class="nav-item nav-link d-none d-sm-inline" rel="external" href="https://github.com/johnfairh/TMLPersistentContainer">
      <svg class="j2-title-svg" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 16 16"><title>Open on GitHub</title><path fill="currentcolor" fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
      </svg>
    </a>
    
    
    
    

    
      <a class="nav-item nav-link d-none d-sm-inline" rel="alternate" href="dash-feed://https%3A%2F%2Fjohnfairh%2Egithub%2Eio%2FTMLPersistentContainer%2Fdocsets%2FTMLPersistentContainer%2Exml">
      <svg class="j2-title-svg" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 700 670">
        <title>Open in Dash</title>
        <path fill="currentcolor" d="m0 0 132.58 160.54h130.76v0.0312c63.501 0.196 140.87-6.9887 193.12 10.227 26.125 8.6076 43.475 19.899 57.578 40.781 14.103 20.882 26.733 55.737 25.781 118.52-0.8784 57.953-16.7 88.91-38.672 112.89-21.972 23.98-54.208 41.154-90.703 51.953-28.462 8.4219-55.314 10.153-80.547 11.953v-266.25h-160v419.92l71.328 7.8125s103.75 12.802 214.61-20c55.429-16.401 115.46-45.078 163.28-97.266 47.816-52.187 79.327-127.83 80.703-218.59 1.3028-85.935-16.743-156.6-53.125-210.47-36.382-53.871-89.369-86.47-140.16-103.2-50.787-16.733-101.87-18.272-145.08-18.504-43.211-0.2316-78.502 0.0768-97.578 0.0176v2e-3h-131.31z"/>
      </svg>
    </a>
    

    

  </div>
  </div>
</div>

<!-- narrow-style searchbar -->


<div class="container-fluid j2-titlebar d-md-none">
  <div class="row">
    <div class="col">
      <form class="pb-2">
        <input class="form-control form-control-sm" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="div">
      </form>
    </div>
  </div>
</div>


  <nav aria-label="breadcrumb" class="small">
  
  
    <ol class="breadcrumb j2-breadcrumb j2-objc">
      <li class="breadcrumb-item"><a href="../index.html">TMLPersistentContainer</a></li>
      
        
          <li class="breadcrumb-item"><a href="../guides.html?objc">Guides</a></li>
        
        
      
        
        
          <li class="breadcrumb-item" aria-current="page">Usage</li>
        
      
    </ol>
  
    <ol class="breadcrumb j2-breadcrumb j2-swift">
      <li class="breadcrumb-item"><a href="../index.html">TMLPersistentContainer</a></li>
      
        
          <li class="breadcrumb-item"><a href="../guides.html?swift">Guides</a></li>
        
        
      
        
        
          <li class="breadcrumb-item" aria-current="page">Usage</li>
        
      
    </ol>
  
</nav>

  </header>

  <div class="container-fluid">
    <div class="row">
      <div class="col-auto d-none d-md-flex flex-column j2-nav" id="nav-column">
  
    <nav aria-label="Objective C" class="j2-objc">
    <ul class="j2-nav-list">
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../guides.html?objc">Guides</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../guides/background.html?objc">Background</a>



  </li>
  
  <li>
    
  <a class="j2-nav-item active" href="#" aria-current="page">Usage</a>




  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../main-apis.html?objc">Main APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/persistentcontainer.html?objc">PersistentContainer</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/persistentcloudkitcontainer.html?objc">PersistentCloudKitContainer</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/modelversionorder.html?objc">ModelVersionOrder</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/migrationerror.html?objc">MigrationError</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/migrationdelegate.html?objc">MigrationDelegate</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../logging-apis.html?objc">Logging APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/logmessage.html?objc">LogMessage</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/loglevel.html?objc">LogLevel</a>



  </li>
  
</ul>



      </li>
      
    </ul>
  </nav>
  
    <nav aria-label="Swift" class="j2-swift">
    <ul class="j2-nav-list">
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../guides.html?swift">Guides</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../guides/background.html?swift">Background</a>



  </li>
  
  <li>
    
  <a class="j2-nav-item active" href="#" aria-current="page">Usage</a>




  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../main-apis.html?swift">Main APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/persistentcontainer.html?swift">PersistentContainer</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/persistentcloudkitcontainer.html?swift">PersistentCloudKitContainer</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/modelversionorder.html?swift">ModelVersionOrder</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/migrationerror.html?swift">MigrationError</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/migrationdelegate.html?swift">MigrationDelegate</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../logging-apis.html?swift">Logging APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/logmessage.html?swift">LogMessage</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/logmessage.html?swift#handler">Handler</a>



  </li>
  
</ul>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/loglevel.html?swift">LogLevel</a>



  </li>
  
</ul>



      </li>
      
    </ul>
  </nav>
  
</div>

      <main class="col col-xl-8 j2-article px-lg-4 px-xl-5" id="article-column">
        <article class="j2-article-wrapper" id="main-content">

        <section>
          
          
          
          
          <!--
TMLPersistentContainer
Usage.md
Distributed under the ISC license, see LICENSE.
-->
<h1 class="j2-anchor j2-heading heading" id="user-guide">
<span data-anchor-id="user-guide">
User Guide
</span></h1>
<p><em>This document assumes you are a developer using Core Data and you are
interested in supporting store migration from different model versions.
If that’s not you, <a href="../guides/background.html">read some more background information</a>.</em></p>
<p>This library provides optimal multi-step Core Data store migration. Here’s
an example diagram of an app’s model version history, where each circle is a
deployed model version:</p>
<p><img src="../media/usage1.png" alt="A model version history" /></p>
<p>V5 is our latest version; the user could have any of V1-V4 on their device when
they install V5.</p>
<p>The <em>inf</em> lines show where Core Data can infer a mapping. The <em>ex</em> lines show
where the developer has supplied an explicit mapping model. Note the migration
from V2 to V3 is inferrable and the developer has <em>also</em> supplied an explicit
mapping model.</p>
<p>This library builds the graph of data and mapping models, then analyzes it to
find the shortest valid path. <em>Shortest</em> means the fewest migrations. <em>Valid</em>
means ‘prefer explicit mappings to inferred ones, even if the path is longer’.</p>
<p>So the migration paths generated for each possible starting point are:</p>
<ul>
<li>V1: V1-ex-V2, V2-ex-V3, V3-inf-V5</li>
<li>V2: V2-ex-V3, V3-inf-V5
(even though V2-inf-V5 exists, it is not taken because that skips an explicit mapping)</li>
<li>V3: V3-inf-V5
(no reason not to skip V4)</li>
<li>V4: V4-inf-V5</li>
</ul>
<p>In the next version of our example app, V6, the developer writes an explicit
mapping model to upgrade the stores from V5. To improve the experience of the
large number of users running V2 of the app the developer provides a further
mapping model from V2 to V6:</p>
<p><img src="../media/usage2.png" alt="Another model version history" /></p>
<p>The library now generates migration paths:</p>
<ul>
<li>V1: V1-ex-V2, V2-ex-V6</li>
<li>V2: V2-ex-V6</li>
<li>V3: V3-inf-V5, V5-ex-V6</li>
<li>V4: V4-inf-V5, V5-ex-V6</li>
<li>V5: V5-ex-V6</li>
</ul>
<p>The library is happy to take the explicit V2-V6 mapping even though that skips
other explicit mappings.</p>
<p>The rest of this document describes
<a href="#creating-the-container">how to configure the container</a>,
<a href="#loading-the-stores">what happens during store load</a>, and
<a href="#limitations">some limitations</a>.</p>
<h1 class="j2-anchor j2-heading heading" id="creating-the-container">
<span data-anchor-id="creating-the-container">
Creating the container
</span></h1>
<p>To start using the library replace references to <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift" class="j2-swift"><code>NSPersistentContainer</code></a><a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=objc" class="j2-objc j2-secondary"><code>NSPersistentContainer</code></a>
with <a href="../types/persistentcontainer.html?swift" class="j2-swift"><code>PersistentContainer</code></a><a href="../types/persistentcontainer.html?objc" class="j2-objc j2-secondary"><code>PersistentContainer</code></a> and references to <a href="https://developer.apple.com/documentation/coredata/nspersistentcloudkitcontainer?language=swift" class="j2-swift"><code>NSPersistentCloudKitContainer</code></a><a href="https://developer.apple.com/documentation/coredata/nspersistentcloudkitcontainer?language=objc" class="j2-objc j2-secondary"><code>NSPersistentCloudKitContainer</code></a>
with <a href="../types/persistentcloudkitcontainer.html?swift" class="j2-swift"><code>PersistentCloudKitContainer</code></a><a href="../types/persistentcloudkitcontainer.html?objc" class="j2-objc j2-secondary"><code>PersistentCloudKitContainer</code></a>. The initializers are compatible though they
have additional optional parameters.  See <a href="../types/persistentcontainer.html?swift" class="j2-swift"><code>PersistentContainer</code></a><a href="../types/persistentcontainer.html?objc" class="j2-objc j2-secondary"><code>PersistentContainer</code></a>.</p>
<h2 class="j2-anchor j2-heading heading" id="describing-the-valid-migrations">
<span data-anchor-id="describing-the-valid-migrations">
Describing the valid migrations
</span></h2>
<p>The <code>modelVersionOrder</code> parameter tells the library what migrations are valid
by reference to the names of each model version. The <em>name</em> of a model version
refers to the part of the model filename before ‘.xcdatamodeld’. The main
options to describe the order are:</p>
<p><strong>compare</strong> establishes an order of versions by simply comparing their names,
interpreting numbers like a human. This means that <code>MyModel_V2</code> precedes
<code>MyModel_V10</code>. A migration is permitted if the source version name precedes
that of the destination. This is the default option.</p>
<p><strong>patternMatchCompare</strong> matches each version name against a regular expression
pattern and interprets the result using the <em>compare</em> algorithm. For example if
your model versions are <em>Mod_812_V1</em>, <em>Mod_118_V2</em>, and <em>Mod_21_V3</em> then you can
use <code>.patternMatchCompare(&quot;_V.*$&quot;)</code> to get the right result.</p>
<p><strong>list</strong> supplies an explicit order of model versions. A migration is
permitted if the source version occurs earlier in the list than the destination.
For example <code>.list([&quot;FirstVer&quot;, &quot;SecondVer&quot;, &quot;ThirdVer&quot;])</code>.</p>
<p><strong>pairList</strong> supplies an explicit list of migrations that are permitted. For
example <code>.pairList([(&quot;FirstVer&quot;, &quot;SecondVer&quot;), (&quot;SecondVer&quot;, &quot;ThirdVer&quot;)])</code>.
Note that this has a different meaning to the <code>list</code> example which permits a
migration from ‘FirstVer’ directly to ‘ThirdVer’.</p>
<p>See <a href="../types/modelversionorder.html?swift"><code>ModelVersionOrder</code></a>.</p>
<h2 class="j2-anchor j2-heading heading" id="finding-data-and-mapping-models">
<span data-anchor-id="finding-data-and-mapping-models">
Finding data and mapping models
</span></h2>
<p>The <code>bundles</code> parameter controls the set of bundles searched for data models
and mapping models. The default is ‘just the main bundle’.</p>
<p>The library looks for data models anywhere in the supplied bundles, but it only
finds mapping models that are in the top level of a bundle – will address this
at some point.</p>
<h2 class="j2-anchor j2-heading heading" id="registering-for-logging">
<span data-anchor-id="registering-for-logging">
Registering for logging
</span></h2>
<p>The <code>logMessageHandler</code> parameter is an optional closure that if set is passed
logging messages from the library on any queue. If your app maintains a text
log as part of its debug strategy then you may wish to include messages of at
least level <code>.error</code> and <code>.warning</code>.</p>
<p>As long as you are not too pressed for space it would be worth including the
<code>.info</code> level as well – somewhat verbose during actual migrations but these are
rare.</p>
<p>The <code>.debug</code> level is for interest/library debugging/problem reporting.</p>
<p>See <a href="../types/logmessage.html?swift"><code>LogMessage</code></a>.</p>
<h1 class="j2-anchor j2-heading heading" id="loading-the-stores">
<span data-anchor-id="loading-the-stores">
Loading the stores
</span></h1>
<p>This section describes what happens during
<a href="../types/persistentcontainer.html?swift#loadpersistentstorescompletionhandler1" class="j2-swift"><code>PersistentContainer.loadPersistentStores(...)</code></a><a href="../types/persistentcontainer.html?objc#loadpersistentstorescompletionhandler1" class="j2-objc j2-secondary"><code>-[PersistentContainer loadPersistentStoresWithCompletionHandler:]</code></a>. Briefly, the library attempts
the migration work, one store at a time. If this all succeeds then it invokes
Core Data to load the migrated stores and return control to the client.</p>
<h2 class="j2-anchor j2-heading heading" id="store-types">
<span data-anchor-id="store-types">
Store types
</span></h2>
<p>Stores without a URL in their <a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription?language=swift" class="j2-swift"><code>NSPersistentStoreDescription</code></a><a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription?language=objc" class="j2-objc j2-secondary"><code>NSPersistentStoreDescription</code></a> are ignored, as
are stores with a URL that is not a <code>file://</code> URL. All other store types are
processed. The library has been tested extensively with <a href="https://developer.apple.com/documentation/coredata/nssqlitestoretype?language=swift" class="j2-swift"><code>NSSQLiteStoreType</code></a><a href="https://developer.apple.com/documentation/coredata/nssqlitestoretype?language=objc" class="j2-objc j2-secondary"><code>NSSQLiteStoreType</code></a>
and somewhat with <a href="https://developer.apple.com/documentation/coredata/nsbinarystoretype?language=swift" class="j2-swift"><code>NSBinaryStoreType</code></a><a href="https://developer.apple.com/documentation/coredata/nsbinarystoretype?language=objc" class="j2-objc j2-secondary"><code>NSBinaryStoreType</code></a>.</p>
<h2 class="j2-anchor j2-heading heading" id="nspersistentstoredescription-flags">
<span data-anchor-id="nspersistentstoredescription-flags">
NSPersistentStoreDescription flags
</span></h2>
<p>These flags are present in the Apple implementation but are undocumented as far
as I can tell. In this library:</p>
<p><strong>shouldAddStoreAsynchronously</strong> – if any of the stores being added have this
set to <code>true</code> then all store loading proceeds asynchronously: the routine
returns immediately and store migration and loading occur on a background queue.</p>
<p><strong>shouldMigrateStoreAutomatically</strong> – if this is <code>false</code> then the library does
not attempt to process the store at all.</p>
<p><strong>shouldInferMappingModelAutomatically</strong> – if this is <code>true</code> then the library
allows inferred mappings to be used during migration. Otherwise only explicit
mapping models created in Xcode are used.</p>
<h2 class="j2-anchor j2-heading heading" id="using-the-delegate-to-track-migrations">
<span data-anchor-id="using-the-delegate-to-track-migrations">
Using the delegate to track migrations
</span></h2>
<p>An implementation of the <a href="../types/migrationdelegate.html?swift"><code>MigrationDelegate</code></a> protocol may be assigned to
<a href="../types/persistentcontainer.html?swift#migrationdelegate4"><code>PersistentContainer.migrationDelegate</code></a>.</p>
<p>Delegate calls are used to inform the client of migration progress. This can be
used for debug or to update some user-visible progress indicator.</p>
<p>In particular <code>.persistentContainer(_:willMigrateStore:...)</code>
indicates how many single migrations will be performed, and
<code>.persistentContainer(_:willSingleMigrateStore:...)</code> indicates
progress through these as well as supplying the <a href="https://developer.apple.com/documentation/coredata/nsmigrationmanager?language=swift" class="j2-swift"><code>NSMigrationManager</code></a><a href="https://developer.apple.com/documentation/coredata/nsmigrationmanager?language=objc" class="j2-objc j2-secondary"><code>NSMigrationManager</code></a> for
client use.</p>
<p>Delegate method calls are made on the queue that is performing the migration.
This depends on <a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription/1640599-shouldaddstoreasynchronously?language=swift" class="j2-swift"><code>NSPersistentStoreDescription.shouldAddStoreAsynchronously</code></a><a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription/1640599-shouldaddstoreasynchronously?language=objc" class="j2-objc j2-secondary"><code>NSPersistentStoreDescription.shouldAddStoreAsynchronously</code></a>,
see <a href="#nspersistentstoredescription-flags">above</a>.</p>
<p>See <a href="../types/migrationdelegate.html?swift"><code>MigrationDelegate</code></a>.</p>
<h2 class="j2-anchor j2-heading heading" id="error-reporting">
<span data-anchor-id="error-reporting">
Error reporting
</span></h2>
<p>If the library finds a problem during migration then it invokes the client
completion handler passed to <code>loadPersistentStores</code>. The errors that can be
reported include various from Foundation and Core Data, as well as several
specific to this library described in <a href="../types/migrationerror.html?swift"><code>MigrationError</code></a>.</p>
<h2 class="j2-anchor j2-heading heading" id="working-with-multiple-stores">
<span data-anchor-id="working-with-multiple-stores">
Working with multiple stores
</span></h2>
<p>The library attempts to migrate multiple stores atomically. Specifically, all
stores are first migrated into temporary files. Only when all the stores have
been migrated successfully are they allowed to replace the ‘real’ stores.</p>
<p>This means that if there is a problem with migration for a particular store,
then all stores are left at a consistent old version. In theory this makes it
easier to retain access to user data.</p>
<p>The library does not do anything special to deal with application crashes,
device power loss, or filesystem errors during store replacement so does not
guarantee atomicity.</p>
<p>A consequence of this approach is that a store may fail to load with an error
of <code>MigrationError.coreqMigrationFailed(_)</code>. This means that although this
particular store went through its migration process without problem, the
migration of another store in the same container did have a problem. To keep
all the stores at a consistent version, neither store has been allowed to
upgrade.</p>
<h1 class="j2-anchor j2-heading heading" id="limitations">
<span data-anchor-id="limitations">
Limitations
</span></h1>
<p>The main ones of which I am aware at any rate….</p>
<ul>
<li>
<p>Mapping models are limited to just one per migration. Need to support
multiple as a way of limiting footprint. In the same vein need to permit
user-managed migrations as well.</p>
</li>
<li>
<p>No support for <em>merged models</em> – that is an <a href="https://developer.apple.com/documentation/coredata/nsmanagedobjectmodel?language=swift" class="j2-swift"><code>NSManagedObjectModel</code></a><a href="https://developer.apple.com/documentation/coredata/nsmanagedobjectmodel?language=objc" class="j2-objc j2-secondary"><code>NSManagedObjectModel</code></a> that has
been created by merging together several on-disk data models. I have a
scheme for supporting this, just not sure how much real-world use this sees.</p>
</li>
<li>
<p>Untested with custom stores; testing on tvOS and watchOS has been
simulator-only.</p>
</li>
</ul>
        </section>

        


        
        <div class="flex-grow-1"></div>
        <nav aria-label="paging" class="j2-pagination pb-3 pt-2">
  <div id="pagination-prev" class="flex-fill">
  
    <a class="j2-swift" href="../guides/background.html?swift" aria-keyshortcuts="p">
  <span aria-hidden="true">&laquo; </span>Background
</a>

    <a class="j2-objc j2-secondary" href="../guides/background.html?swift" aria-keyshortcuts="p">
  <span aria-hidden="true">&laquo; </span>Background
</a>

  
  
  </div>
  <div id="pagination-next" class="flex-fill text-end">
  
    <a class="j2-swift" href="../main-apis.html?swift" aria-keyshortcuts="n">
  Main APIs<span aria-hidden="true"> &raquo;</span>
</a>

    <a class="j2-objc j2-secondary" href="../main-apis.html?swift" aria-keyshortcuts="n">
  Main APIs<span aria-hidden="true"> &raquo;</span>
</a>

  
  
  </div>
</nav>

        

        </article>
      </main>

      <div class="col-xl d-none d-xl-block j2-aux-nav" id="aux-nav-column">
  <div class="j2-aux-nav-wrapper">
    
    <div class="j2-objc">
    <h6 class="j2-inline-heading">Topics</h6>
    <nav aria-label="page">
      <ul class="j2-aux-group">
        
        <li><a href="#user-guide">User Guide</a></li>
        
        <li><a href="#creating-the-container">Creating the container</a></li>
        
        <li><a href="#describing-the-valid-migrations">Describing the valid migrations</a></li>
        
        <li><a href="#finding-data-and-mapping-models">Finding data and mapping models</a></li>
        
        <li><a href="#registering-for-logging">Registering for logging</a></li>
        
        <li><a href="#loading-the-stores">Loading the stores</a></li>
        
        <li><a href="#store-types">Store types</a></li>
        
        <li><a href="#nspersistentstoredescription-flags">NSPersistentStoreDescription flags</a></li>
        
        <li><a href="#using-the-delegate-to-track-migrations">Using the delegate to track migrations</a></li>
        
        <li><a href="#error-reporting">Error reporting</a></li>
        
        <li><a href="#working-with-multiple-stores">Working with multiple stores</a></li>
        
        <li><a href="#limitations">Limitations</a></li>
        
      </ul>
    </nav>
    </div>
    
    <div class="j2-swift">
    <h6 class="j2-inline-heading">Topics</h6>
    <nav aria-label="page">
      <ul class="j2-aux-group">
        
        <li><a href="#user-guide">User Guide</a></li>
        
        <li><a href="#creating-the-container">Creating the container</a></li>
        
        <li><a href="#describing-the-valid-migrations">Describing the valid migrations</a></li>
        
        <li><a href="#finding-data-and-mapping-models">Finding data and mapping models</a></li>
        
        <li><a href="#registering-for-logging">Registering for logging</a></li>
        
        <li><a href="#loading-the-stores">Loading the stores</a></li>
        
        <li><a href="#store-types">Store types</a></li>
        
        <li><a href="#nspersistentstoredescription-flags">NSPersistentStoreDescription flags</a></li>
        
        <li><a href="#using-the-delegate-to-track-migrations">Using the delegate to track migrations</a></li>
        
        <li><a href="#error-reporting">Error reporting</a></li>
        
        <li><a href="#working-with-multiple-stores">Working with multiple stores</a></li>
        
        <li><a href="#limitations">Limitations</a></li>
        
      </ul>
    </nav>
    </div>
    
    
    <h6 class="j2-inline-heading">Actions</h6>
    <ul class="j2-aux-group">
      
      <li><a class="j2-aux-action" id="action-search" href="#" role="button" aria-keyshortcuts="/">Search (/)</a></li>
      
      
      
      <li><a class="j2-aux-action" id="action-language" href="#" role="button" aria-keyshortcuts="l">
          <span class="j2-swift">Objective-C (l)</span>
          <span class="j2-objc">Swift (l)</span>
      </a></li>
      
    </ul>
    
  </div>
</div>


    </div> <!-- end row -->

    <footer class="row">
  <div class="col j2-footer small pt-2">
    <p>Distributed under the ISC license.  Maintained by John Fairhurst.</p>
    
    <p>Generated by <a class="link" href="https://github.com/johnfairh/Bebop" target="_blank" rel="external noopener">Bebop v1.11.0</a> using the FW2020 theme, based on technology from <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫</a>.</p>
    
  </div>
</footer>

  </div> <!-- container -->

  <script src="../js/dependencies.min.js"></script>
  
  <script src="../js/fw2020.js"></script>
  </body>
</html>
