<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
    <link rel="stylesheet" href="../css/fw2020.css">
    
    
   <title>PersistentContainer - TMLPersistentContainer 5.0.1</title>
    
  </head>
  <body class="j2-swift " data-root-path="./../" data-doc-path="types/persistentcontainer.html" data-assets-path="../">

  <!-- messages for search -->
  <div hidden>
    <span id="text-loading">Loading index...</span>
    <span id="text-failed">Failed to load index</span>
    <span id="text-notfound">No matches</span>
  </div>

  <header class="j2-header">
  <div class="navbar navbar-expand navbar-dark j2-titlebar">
  <div class="container-fluid ps-0 pe-0">
  <a class="visually-hidden-focusable visually-hidden fw-slightly-bold pe-2" href="#main-content">Skip to main content</a>
  <a class="nav-item nav-link ps-0 pt-1 pe-2 d-md-none" id="nav-toggle-button" role="button" aria-controls="nav-column" aria-expanded="false" aria-label="Toggle navigation" href="#">
    <span class="navbar-toggler-icon"></span>
  </a>

  <div class="navbar-brand me-1 fw-slightly-bold">
    
    <a href="../index.html">
    
    TMLPersistentContainer 5.0.1</a>
  </div>
  
  <span class="navbar-text j2-coverage fw-slightly-bold small d-none d-lg-inline-block me-2">(100% documented)</span>
  

  <div class="navbar-nav ms-auto justify-content-end flex-fill">

    
    <form class="d-none d-md-block my-auto pe-2 ps-2" role="search">
      <input class="form-control form-control-sm w-100" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="span">
    </form>
    

    
    <div class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="language-menu" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Swift</a>
      <div class="dropdown-menu dropdown-menu-end dropdown-menu-md-start" role="menu" aria-labelledby="language-menu">
        <a class="dropdown-item" href="" id="language-menu-swift" role="menuitem">Swift</a>
        <a class="dropdown-item" href="" id="language-menu-objc" role="menuitem">ObjC</a>
      </div>
    </div>
    

    
    <a class="nav-item nav-link d-none d-sm-inline" rel="external" href="https://github.com/johnfairh/TMLPersistentContainer">
      <svg class="j2-title-svg" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 16 16"><title>Open on GitHub</title><path fill="currentcolor" fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
      </svg>
    </a>
    
    
    
    

    
      <a class="nav-item nav-link d-none d-sm-inline" rel="alternate" href="dash-feed://https%3A%2F%2Fjohnfairh%2Egithub%2Eio%2FTMLPersistentContainer%2Fdocsets%2FTMLPersistentContainer%2Exml">
      <svg class="j2-title-svg" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 700 670">
        <title>Open in Dash</title>
        <path fill="currentcolor" d="m0 0 132.58 160.54h130.76v0.0312c63.501 0.196 140.87-6.9887 193.12 10.227 26.125 8.6076 43.475 19.899 57.578 40.781 14.103 20.882 26.733 55.737 25.781 118.52-0.8784 57.953-16.7 88.91-38.672 112.89-21.972 23.98-54.208 41.154-90.703 51.953-28.462 8.4219-55.314 10.153-80.547 11.953v-266.25h-160v419.92l71.328 7.8125s103.75 12.802 214.61-20c55.429-16.401 115.46-45.078 163.28-97.266 47.816-52.187 79.327-127.83 80.703-218.59 1.3028-85.935-16.743-156.6-53.125-210.47-36.382-53.871-89.369-86.47-140.16-103.2-50.787-16.733-101.87-18.272-145.08-18.504-43.211-0.2316-78.502 0.0768-97.578 0.0176v2e-3h-131.31z"/>
      </svg>
    </a>
    

    

  </div>
  </div>
</div>

<!-- narrow-style searchbar -->


<div class="container-fluid j2-titlebar d-md-none">
  <div class="row">
    <div class="col">
      <form class="pb-2">
        <input class="form-control form-control-sm" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="div">
      </form>
    </div>
  </div>
</div>


  <nav aria-label="breadcrumb" class="small">
  
  
    <ol class="breadcrumb j2-breadcrumb j2-objc">
      <li class="breadcrumb-item"><a href="../index.html">TMLPersistentContainer</a></li>
      
        
          <li class="breadcrumb-item"><a href="../main-apis.html?objc">Main APIs</a></li>
        
        
      
        
        
          <li class="breadcrumb-item" aria-current="page">PersistentContainer</li>
        
      
    </ol>
  
    <ol class="breadcrumb j2-breadcrumb j2-swift">
      <li class="breadcrumb-item"><a href="../index.html">TMLPersistentContainer</a></li>
      
        
          <li class="breadcrumb-item"><a href="../main-apis.html?swift">Main APIs</a></li>
        
        
      
        
        
          <li class="breadcrumb-item" aria-current="page">PersistentContainer</li>
        
      
    </ol>
  
</nav>

  </header>

  <div class="container-fluid">
    <div class="row">
      <div class="col-auto d-none d-md-flex flex-column j2-nav" id="nav-column">
  
    <nav aria-label="Objective C" class="j2-objc">
    <ul class="j2-nav-list">
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../guides.html?objc">Guides</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../guides/background.html?objc">Background</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../guides/usage.html?objc">Usage</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../main-apis.html?objc">Main APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    
  <a class="j2-nav-item active" href="#" aria-current="page">PersistentContainer</a>




  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/persistentcloudkitcontainer.html?objc">PersistentCloudKitContainer</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/modelversionorder.html?objc">ModelVersionOrder</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/migrationerror.html?objc">MigrationError</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/migrationdelegate.html?objc">MigrationDelegate</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../logging-apis.html?objc">Logging APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/logmessage.html?objc">LogMessage</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/loglevel.html?objc">LogLevel</a>



  </li>
  
</ul>



      </li>
      
    </ul>
  </nav>
  
    <nav aria-label="Swift" class="j2-swift">
    <ul class="j2-nav-list">
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../guides.html?swift">Guides</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../guides/background.html?swift">Background</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../guides/usage.html?swift">Usage</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../main-apis.html?swift">Main APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    
  <a class="j2-nav-item active" href="#" aria-current="page">PersistentContainer</a>




  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/persistentcloudkitcontainer.html?swift">PersistentCloudKitContainer</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/modelversionorder.html?swift">ModelVersionOrder</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/migrationerror.html?swift">MigrationError</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/migrationdelegate.html?swift">MigrationDelegate</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../logging-apis.html?swift">Logging APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/logmessage.html?swift">LogMessage</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/logmessage.html?swift#handler">Handler</a>



  </li>
  
</ul>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/loglevel.html?swift">LogLevel</a>



  </li>
  
</ul>



      </li>
      
    </ul>
  </nav>
  
</div>

      <main class="col col-xl-8 j2-article px-lg-4 px-xl-5" id="article-column">
        <article class="j2-article-wrapper" id="main-content">

        <section>
          
          <header>
            <h1 class="j2-anchor">
              
              <span class="j2-swift">PersistentContainer</span>
              <span class="j2-objc j2-secondary">PersistentContainer</span>
              
              
            </h1>
          </header>
          
          
          
          <div class="j2-callout  j2-callout-declaration">
            
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">open class PersistentContainer: <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift">NSPersistentContainer</a>,
    PersistentContainerMigratable, PersistentContainerProtocol,
    LogMessageEmitter</code></pre>
  </div>


  <div class="j2-objc">
    <div class="j2-callout-title" role="heading" aria-level="6">Objective-C</div>
    <pre><code class="language-objectivec">@interface PersistentContainer : <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift">NSPersistentContainer</a></code></pre>
  </div>


          </div>

          <div class="clearfix">
            
  
    <aside class="j2-availability " role="note">
      <h6 class="j2-inline-heading">Availability</h6>
      <ul>
        
          <li>macOS 10.12+</li>
        
          <li>iOS 10.0+</li>
        
          <li>tvOS 10.0+</li>
        
          <li>watchOS 3.0+</li>
        
      </ul>
    </aside>
  


            


<p>A container for a Core Data stack that provides automatic multi-step shortest-path
persistent store migration.</p>
<p>This is a drop-in replacement for <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift" class="j2-swift"><code>NSPersistentContainer</code></a><a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=objc" class="j2-objc j2-secondary"><code>NSPersistentContainer</code></a> that automatically detects
and performs multi-step store migration as part of the <a href="../types/persistentcontainer.html?swift#loadpersistentstorescompletionhandler1" class="j2-swift"><code>loadPersistentStores(...)</code></a><a href="../types/persistentcontainer.html?objc#loadpersistentstorescompletionhandler1" class="j2-objc j2-secondary"><code>-[PersistentContainer loadPersistentStoresWithCompletionHandler:]</code></a> method.</p>
<p>The container searches for models and mapping models, then constructs the
best sequence in which to migrate stores. It prefers to use explicit mapping models
over inferred mapping models when there is a choice. Progress and status can be
reported back to the client code.</p>
<p>See <a href="https://johnfairh.github.io/TMLPersistentContainer/usage.html">the user guide</a> for more details.</p>
<p>See <a href="../types/persistentcloudkitcontainer.html?swift" class="j2-swift"><code>PersistentCloudKitContainer</code></a><a href="../types/persistentcloudkitcontainer.html?objc" class="j2-objc j2-secondary"><code>PersistentCloudKitContainer</code></a> for a version capable of managing both
CloudKit-backed and non-cloud stores..</p>



            



          </div>
          
          
          <nav aria-label="item details" class="j2-main-item-nav">
            <a href="https://github.com/johnfairh/TMLPersistentContainer/tree/master/Sources/PersistentContainer.swift#L145-L271">Show on GitHub</a>
          </nav>
          
          
        </section>

        
<div class="">
<hr/>
<section>
  <h1 class="visually-hidden">Topics</h1>
  
  <section class="j2-swift">
  
  <a name="//apple_ref/cpp/Section/Initializers" class="dashAnchor"></a>
  <h3 class="j2-anchor" id="tpc-initializers">
    <span data-anchor-id="tpc-initializers">Initializers</span>
  </h3>
  
  
  
  
  
    <section id="initnamebundlesmodelversionorderlogmessagehandler1" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Constructor/init(name%3A%20String,%20bundles%3A%20%5BBundle%5D,%20modelVersionOrder%3A%20ModelVersionOrder,%20logMessageHandler%3A%20LogMessage.Handler%3F)" class="dashAnchor j2-item-dash-anchor" data-item-id="initnamebundlesmodelversionorderlogmessagehandler1"></a>
    <h4 class="visually-hidden">init(name: String, bundles: [Bundle], modelVersionOrder: ModelVersionOrder, logMessageHandler: LogMessage.Handler?)</h4>
    
    
    <a class="j2-item-title" href="#_initnamebundlesmodelversionorderlogmessagehandler1" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_initnamebundlesmodelversionorderlogmessagehandler1"><code>
        <span class="j2-swift">init<span class="j2-item-secondary">(</span>name<span class="j2-item-secondary">: String, </span>bundles<span class="j2-item-secondary">: [Bundle], </span>modelVersionOrder<span class="j2-item-secondary">: ModelVersionOrder, </span>logMessageHandler<span class="j2-item-secondary">: LogMessage.Handler?)</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_initnamebundlesmodelversionorderlogmessagehandler1">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Initializes a persistent container from a named model.</p>




            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public convenience init(
    name: <a href="https://developer.apple.com/documentation/swift/string?language=swift">String</a>,
    bundles: [<a href="https://developer.apple.com/documentation/foundation/bundle?language=swift">Bundle</a>] = [<a href="https://developer.apple.com/documentation/foundation/bundle/1410786-main?language=swift">Bundle.main</a>],
    modelVersionOrder: <a href="../types/modelversionorder.html?swift">ModelVersionOrder</a> = .compare,
    logMessageHandler: <a href="../types/logmessage.html?swift#handler">LogMessage.Handler</a>? = nil)</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>name</code></td>
        <td><p>The name of the managed object model to use with the container.
This name is used as the default name for the first persistent store.</p></td>
      </tr>
      
      <tr>
        <td><code>bundles</code></td>
        <td><p>An array of bundles to search for the container’s model. By default
only the app’s main bundle. If the model exists in multiple bundles then
the first one in the array is used. If the model exists more than once
in the same bundle then it is undefined which is used. These bundles are
also used to search for data and mapping models during automatic multi-step
store migration.</p></td>
      </tr>
      
      <tr>
        <td><code>modelVersionOrder</code></td>
        <td><p>The ordering algorithm of model versions used to guide automatic
multi-step store migration. The default is a numeric string
comparison, meaning that <code>MyModel1</code> precedes <code>MyModel2</code> precedes
<code>MyModel10</code>.</p></td>
      </tr>
      
      <tr>
        <td><code>logMessageHandler</code></td>
        <td><p>A callback to receive log messages from the library suitable for
helping debug applications. Calls can occur on any queue.
The default performs no logging.</p></td>
      </tr>
      
    </tbody>
  </table>




          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/TMLPersistentContainer/tree/master/Sources/PersistentContainer.swift#L186-L210">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="initnamemanagedobjectmodelbundlesmodelversionorderlogmessagehandler1" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Constructor/init(name%3A%20String,%20managedObjectModel%3A%20NSManagedObjectModel,%20bundles%3A%20%5BBundle%5D,%20modelVersionOrder%3A%20ModelVersionOrder,%20logMessageHandler%3A%20LogMessage.Handler%3F)" class="dashAnchor j2-item-dash-anchor" data-item-id="initnamemanagedobjectmodelbundlesmodelversionorderlogmessagehandler1"></a>
    <h4 class="visually-hidden">init(name: String, managedObjectModel: NSManagedObjectModel, bundles: [Bundle], modelVersionOrder: ModelVersionOrder, logMessageHandler: LogMessage.Handler?)</h4>
    
    
    <a class="j2-item-title" href="#_initnamemanagedobjectmodelbundlesmodelversionorderlogmessagehandler1" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_initnamemanagedobjectmodelbundlesmodelversionorderlogmessagehandler1"><code>
        <span class="j2-swift">init<span class="j2-item-secondary">(</span>name<span class="j2-item-secondary">: String, </span>managedObjectModel<span class="j2-item-secondary">: NSManagedObjectModel, </span>bundles<span class="j2-item-secondary">: [Bundle], </span>modelVersionOrder<span class="j2-item-secondary">: ModelVersionOrder, </span>logMessageHandler<span class="j2-item-secondary">: LogMessage.Handler?)</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_initnamemanagedobjectmodelbundlesmodelversionorderlogmessagehandler1">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Initializes a persistent container using a managed object model.</p>




            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public init(
    name: <a href="https://developer.apple.com/documentation/swift/string?language=swift">String</a>,
    managedObjectModel model: <a href="https://developer.apple.com/documentation/coredata/nsmanagedobjectmodel?language=swift">NSManagedObjectModel</a>,
    bundles: [<a href="https://developer.apple.com/documentation/foundation/bundle?language=swift">Bundle</a>] = [<a href="https://developer.apple.com/documentation/foundation/bundle/1410786-main?language=swift">Bundle.main</a>],
    modelVersionOrder: <a href="../types/modelversionorder.html?swift">ModelVersionOrder</a> = .compare,
    logMessageHandler: <a href="../types/logmessage.html?swift#handler">LogMessage.Handler</a>?)</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>name</code></td>
        <td><p>The defaut name for the first persistent store.</p></td>
      </tr>
      
      <tr>
        <td><code>model</code></td>
        <td><p>The managed object model to be used by the persistent container.</p></td>
      </tr>
      
      <tr>
        <td><code>bundles</code></td>
        <td><p>An array of bundles used to search for data models and mapping models
during automatic multi-step store migration.</p></td>
      </tr>
      
      <tr>
        <td><code>modelVersionOrder</code></td>
        <td><p>The ordering algorithm of model versions used to guide automatic
multi-step store migration. The default is a numeric string
comparison, meaning that <code>MyModel1</code> precedes <code>MyModel2</code> precedes
<code>MyModel10</code>.</p></td>
      </tr>
      
      <tr>
        <td><code>logMessageHandler</code></td>
        <td><p>A callback to receive log messages from the library suitable for
helping debug applications. Calls can occur on any queue.
The default performs no logging.</p></td>
      </tr>
      
    </tbody>
  </table>




          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/TMLPersistentContainer/tree/master/Sources/PersistentContainer.swift#L230-L239">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
</section>

  
  <section class="">
  
  <a name="//apple_ref/cpp/Section/Methods" class="dashAnchor"></a>
  <h3 class="j2-anchor" id="tpc-methods">
    <span data-anchor-id="tpc-methods">Methods</span>
  </h3>
  
  
  
  
  
    <section id="loadpersistentstorescompletionhandler1" class="j2-item ">
    <a name="//apple_ref/cpp/Method/func%20loadPersistentStores(completionHandler%3A%20(NSPersistentStoreDescription,%20Error%3F)%20-%3E%20())" class="dashAnchor j2-item-dash-anchor" data-item-id="loadpersistentstorescompletionhandler1"></a>
    <h4 class="visually-hidden">func loadPersistentStores(completionHandler: (NSPersistentStoreDescription, Error?) -&gt; ())</h4>
    
    
    <a class="j2-item-title" href="#_loadpersistentstorescompletionhandler1" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_loadpersistentstorescompletionhandler1"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>loadPersistentStores<span class="j2-item-secondary">(</span>completionHandler<span class="j2-item-secondary">: (NSPersistentStoreDescription, Error?) -&gt; ())</span></span>
        
        <span class="j2-objc j2-secondary"><span class="j2-item-secondary">- (void)</span>loadPersistentStoresWithCompletionHandler<span class="j2-item-secondary">: (void (^)(NSPersistentStoreDescription *, NSError *))block</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_loadpersistentstorescompletionhandler1">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Begin loading and migrating the persistent stores mentioned in <code>persistentStoreDescriptions</code> that have
not already been loaded. The completion handler is called once for each such store on the main queue
indicating whether the store has been loaded successfully.</p>
<p>If the store description has <code>shouldMigrateStoreAutomatically</code> set then the container automatically
attempts multi-step migration.  If the store description also has <code>shouldInferMappingModelAutomatically</code>
set then the multi-step migration can include the use of inferred mapping models and light-weight
migration.  Once any multi-step migration is complete, Core Data is invoked to load the store and set
up the stack for use.</p>
<p>These flags are both on by default.</p>
<p>If <em>any</em> of the store descriptions have <code>shouldAddStoreAsynchronously</code> set then this routine returns
immediately and <em>all</em> migrations occur on a background queue.  This flag is off by default.</p>
<p>If the container has multiple stores then the container tries very hard to ensure either all stores
are migrated successfully or none are.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">open override func loadPersistentStores(
    completionHandler block: @escaping (<a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription?language=swift">NSPersistentStoreDescription</a>, <a href="https://developer.apple.com/documentation/swift/error?language=swift">Error</a>?) -&gt;
        <a href="https://developer.apple.com/documentation/swift/void?language=swift">Void</a>)</code></pre>
  </div>


  <div class="j2-objc">
    <div class="j2-callout-title" role="heading" aria-level="6">Objective-C</div>
    <pre><code class="language-objectivec">- (void)loadPersistentStoresWithCompletionHandler:
    (void (^_Nonnull)(<a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription?language=swift">NSPersistentStoreDescription</a> *_Nonnull,
                      <a href="https://developer.apple.com/documentation/foundation/nserror?language=objc">NSError</a> *_Nullable))block</code></pre>
  </div>


            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>block</code></td>
        <td><p>Callback made on the main queue for each store when it has either been loaded successfully
or failed to load.  The <a href="https://developer.apple.com/documentation/swift/error?language=swift" class="j2-swift"><code>Error</code></a><a href="https://developer.apple.com/documentation/swift/error?language=objc" class="j2-objc j2-secondary"><code>Error</code></a> here can be anything provided by
<code>NSPersistentContainer.loadPersistentStores</code> as well as anything from <a href="../types/migrationerror.html?swift"><code>MigrationError</code></a>
in this package.</p></td>
      </tr>
      
    </tbody>
  </table>




          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/TMLPersistentContainer/tree/master/Sources/PersistentContainer.swift#L264-L270">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
</section>

  
  <section class="j2-swift">
  
  <a name="//apple_ref/cpp/Section/Properties" class="dashAnchor"></a>
  <h3 class="j2-anchor" id="tpc-properties">
    <span data-anchor-id="tpc-properties">Properties</span>
  </h3>
  
  
  
  
  
    <section id="migrationdelegate4" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Property/var%20migrationDelegate%3A%20MigrationDelegate%3F" class="dashAnchor j2-item-dash-anchor" data-item-id="migrationdelegate4"></a>
    <h4 class="visually-hidden">var migrationDelegate: MigrationDelegate?</h4>
    
    
    <a class="j2-item-title" href="#_migrationdelegate4" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_migrationdelegate4"><code>
        <span class="j2-swift"><span class="j2-item-secondary">var </span>migrationDelegate<span class="j2-item-secondary">: MigrationDelegate?</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_migrationdelegate4">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<p>Optional delegate to receive migration progress notifications.</p>




            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public weak var migrationDelegate: <a href="../types/migrationdelegate.html?swift">MigrationDelegate</a>?</code></pre>
  </div>



            </div>
            



          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/TMLPersistentContainer/tree/master/Sources/PersistentContainer.swift#L160">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
</section>

  
</section>
</div>



        
        <div class="flex-grow-1"></div>
        <nav aria-label="paging" class="j2-pagination pb-3 pt-2">
  <div id="pagination-prev" class="flex-fill">
  
    <a class="j2-swift" href="../main-apis.html?swift" aria-keyshortcuts="p">
  <span aria-hidden="true">&laquo; </span>Main APIs
</a>

    <a class="j2-objc j2-secondary" href="../main-apis.html?swift" aria-keyshortcuts="p">
  <span aria-hidden="true">&laquo; </span>Main APIs
</a>

  
  
  </div>
  <div id="pagination-next" class="flex-fill text-end">
  
    <a class="j2-swift" href="../types/persistentcloudkitcontainer.html?swift" aria-keyshortcuts="n">
  PersistentCloudKitContainer<span aria-hidden="true"> &raquo;</span>
</a>

    <a class="j2-objc j2-secondary" href="../types/persistentcloudkitcontainer.html?objc" aria-keyshortcuts="n">
  PersistentCloudKitContainer<span aria-hidden="true"> &raquo;</span>
</a>

  
  
  </div>
</nav>

        

        </article>
      </main>

      <div class="col-xl d-none d-xl-block j2-aux-nav" id="aux-nav-column">
  <div class="j2-aux-nav-wrapper">
    
    <div class="j2-objc">
    <h6 class="j2-inline-heading">Topics</h6>
    <nav aria-label="page">
      <ul class="j2-aux-group">
        
        <li><a href="#">Declaration</a></li>
        
        <li><a href="#tpc-methods">Methods</a></li>
        
      </ul>
    </nav>
    </div>
    
    <div class="j2-swift">
    <h6 class="j2-inline-heading">Topics</h6>
    <nav aria-label="page">
      <ul class="j2-aux-group">
        
        <li><a href="#">Declaration</a></li>
        
        <li><a href="#tpc-initializers">Initializers</a></li>
        
        <li><a href="#tpc-methods">Methods</a></li>
        
        <li><a href="#tpc-properties">Properties</a></li>
        
      </ul>
    </nav>
    </div>
    
    
    <h6 class="j2-inline-heading">Actions</h6>
    <ul class="j2-aux-group">
      
      <li><a class="j2-aux-action" id="action-search" href="#" role="button" aria-keyshortcuts="/">Search (/)</a></li>
      
      
      
      <li><a class="j2-aux-action" id="action-collapse" href="#" role="button" aria-keyshortcuts="a">
          <span id="action-collapse-expand">Open all (a)</span>
          <span id="action-collapse-collapse" class="d-none">Close all (a)</span>
      </a></li>
      
      
      
      <li><a class="j2-aux-action" id="action-language" href="#" role="button" aria-keyshortcuts="l">
          <span class="j2-swift">Objective-C (l)</span>
          <span class="j2-objc">Swift (l)</span>
      </a></li>
      
    </ul>
    
  </div>
</div>


    </div> <!-- end row -->

    <footer class="row">
  <div class="col j2-footer small pt-2">
    <p>Distributed under the ISC license.  Maintained by John Fairhurst.</p>
    
    <p>Generated by <a class="link" href="https://github.com/johnfairh/Bebop" target="_blank" rel="external noopener">Bebop v1.7.1</a> using the FW2020 theme, based on technology from <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫</a>.</p>
    
  </div>
</footer>

  </div> <!-- container -->

  <script src="../js/dependencies.min.js"></script>
  
  <script src="../js/fw2020.js"></script>
  </body>
</html>
