<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
    <link rel="stylesheet" href="../css/fw2020.css">
    
    
   <title>MigrationDelegate - TMLPersistentContainer 5.0.1</title>
    
  </head>
  <body class="j2-swift " data-root-path="./../" data-doc-path="types/migrationdelegate.html" data-assets-path="../">

  <!-- messages for search -->
  <div hidden>
    <span id="text-loading">Loading index...</span>
    <span id="text-failed">Failed to load index</span>
    <span id="text-notfound">No matches</span>
  </div>

  <header class="j2-header">
  <div class="navbar navbar-expand navbar-dark j2-titlebar">
  <div class="container-fluid ps-0 pe-0">
  <a class="visually-hidden-focusable visually-hidden fw-slightly-bold pe-2" href="#main-content">Skip to main content</a>
  <a class="nav-item nav-link ps-0 pt-1 pe-2 d-md-none" id="nav-toggle-button" role="button" aria-controls="nav-column" aria-expanded="false" aria-label="Toggle navigation" href="#">
    <span class="navbar-toggler-icon"></span>
  </a>

  <div class="navbar-brand me-1 fw-slightly-bold">
    
    <a href="../index.html">
    
    TMLPersistentContainer 5.0.1</a>
  </div>
  
  <span class="navbar-text j2-coverage fw-slightly-bold small d-none d-lg-inline-block me-2">(100% documented)</span>
  

  <div class="navbar-nav ms-auto justify-content-end flex-fill">

    
    <form class="d-none d-md-block my-auto pe-2 ps-2" role="search">
      <input class="form-control form-control-sm w-100" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="span">
    </form>
    

    
    <div class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="language-menu" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Swift</a>
      <div class="dropdown-menu dropdown-menu-end dropdown-menu-md-start" role="menu" aria-labelledby="language-menu">
        <a class="dropdown-item" href="" id="language-menu-swift" role="menuitem">Swift</a>
        <a class="dropdown-item" href="" id="language-menu-objc" role="menuitem">ObjC</a>
      </div>
    </div>
    

    
    <a class="nav-item nav-link d-none d-sm-inline" rel="external" href="https://github.com/johnfairh/TMLPersistentContainer">
      <svg class="j2-title-svg" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 16 16"><title>Open on GitHub</title><path fill="currentcolor" fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
      </svg>
    </a>
    
    
    
    

    
      <a class="nav-item nav-link d-none d-sm-inline" rel="alternate" href="dash-feed://https%3A%2F%2Fjohnfairh%2Egithub%2Eio%2FTMLPersistentContainer%2Fdocsets%2FTMLPersistentContainer%2Exml">
      <svg class="j2-title-svg" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 700 670">
        <title>Open in Dash</title>
        <path fill="currentcolor" d="m0 0 132.58 160.54h130.76v0.0312c63.501 0.196 140.87-6.9887 193.12 10.227 26.125 8.6076 43.475 19.899 57.578 40.781 14.103 20.882 26.733 55.737 25.781 118.52-0.8784 57.953-16.7 88.91-38.672 112.89-21.972 23.98-54.208 41.154-90.703 51.953-28.462 8.4219-55.314 10.153-80.547 11.953v-266.25h-160v419.92l71.328 7.8125s103.75 12.802 214.61-20c55.429-16.401 115.46-45.078 163.28-97.266 47.816-52.187 79.327-127.83 80.703-218.59 1.3028-85.935-16.743-156.6-53.125-210.47-36.382-53.871-89.369-86.47-140.16-103.2-50.787-16.733-101.87-18.272-145.08-18.504-43.211-0.2316-78.502 0.0768-97.578 0.0176v2e-3h-131.31z"/>
      </svg>
    </a>
    

    

  </div>
  </div>
</div>

<!-- narrow-style searchbar -->


<div class="container-fluid j2-titlebar d-md-none">
  <div class="row">
    <div class="col">
      <form class="pb-2">
        <input class="form-control form-control-sm" type="search" placeHolder="Search" aria-label="Search" aria-keyshortcuts="/" data-search-format="div">
      </form>
    </div>
  </div>
</div>


  <nav aria-label="breadcrumb" class="small">
  
  
    <ol class="breadcrumb j2-breadcrumb j2-objc">
      <li class="breadcrumb-item"><a href="../index.html">TMLPersistentContainer</a></li>
      
        
          <li class="breadcrumb-item"><a href="../main-apis.html?objc">Main APIs</a></li>
        
        
      
        
        
          <li class="breadcrumb-item" aria-current="page">MigrationDelegate</li>
        
      
    </ol>
  
    <ol class="breadcrumb j2-breadcrumb j2-swift">
      <li class="breadcrumb-item"><a href="../index.html">TMLPersistentContainer</a></li>
      
        
          <li class="breadcrumb-item"><a href="../main-apis.html?swift">Main APIs</a></li>
        
        
      
        
        
          <li class="breadcrumb-item" aria-current="page">MigrationDelegate</li>
        
      
    </ol>
  
</nav>

  </header>

  <div class="container-fluid">
    <div class="row">
      <div class="col-auto d-none d-md-flex flex-column j2-nav" id="nav-column">
  
    <nav aria-label="Objective C" class="j2-objc">
    <ul class="j2-nav-list">
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../guides.html?objc">Guides</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../guides/background.html?objc">Background</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../guides/usage.html?objc">Usage</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../main-apis.html?objc">Main APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/persistentcontainer.html?objc">PersistentContainer</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/persistentcloudkitcontainer.html?objc">PersistentCloudKitContainer</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/modelversionorder.html?objc">ModelVersionOrder</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/migrationerror.html?objc">MigrationError</a>



  </li>
  
  <li>
    
  <a class="j2-nav-item active" href="#" aria-current="page">MigrationDelegate</a>




  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../logging-apis.html?objc">Logging APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/logmessage.html?objc">LogMessage</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/loglevel.html?objc">LogLevel</a>



  </li>
  
</ul>



      </li>
      
    </ul>
  </nav>
  
    <nav aria-label="Swift" class="j2-swift">
    <ul class="j2-nav-list">
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../guides.html?swift">Guides</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../guides/background.html?swift">Background</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../guides/usage.html?swift">Usage</a>



  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../main-apis.html?swift">Main APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/persistentcontainer.html?swift">PersistentContainer</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/persistentcloudkitcontainer.html?swift">PersistentCloudKitContainer</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/modelversionorder.html?swift">ModelVersionOrder</a>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/migrationerror.html?swift">MigrationError</a>



  </li>
  
  <li>
    
  <a class="j2-nav-item active" href="#" aria-current="page">MigrationDelegate</a>




  </li>
  
</ul>



      </li>
      
      <li class="j2-nav-group">
        

  <a class="j2-nav-item" href="../logging-apis.html?swift">Logging APIs</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/logmessage.html?swift">LogMessage</a>


  <ul class="j2-nav-sublist">
  
  <li>
    

  <a class="j2-nav-item" href="../types/logmessage.html?swift#handler">Handler</a>



  </li>
  
</ul>



  </li>
  
  <li>
    

  <a class="j2-nav-item" href="../types/loglevel.html?swift">LogLevel</a>



  </li>
  
</ul>



      </li>
      
    </ul>
  </nav>
  
</div>

      <main class="col col-xl-8 j2-article px-lg-4 px-xl-5" id="article-column">
        <article class="j2-article-wrapper" id="main-content">

        <section>
          
          <header>
            <h1 class="j2-anchor">
              
              
              <span>MigrationDelegate</span>
              
            </h1>
          </header>
          
          
            <div class="j2-objc j2-language-missing mb-3">Not available in Objective-C.</div>
          
          
          <div class="j2-callout j2-swift j2-callout-declaration">
            
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">public protocol MigrationDelegate: <a href="https://developer.apple.com/documentation/swift/anyobject?language=swift">AnyObject</a></code></pre>
  </div>



          </div>

          <div class="clearfix">
            
  
    <aside class="j2-availability " role="note">
      <h6 class="j2-inline-heading">Availability</h6>
      <ul>
        
          <li>macOS 10.12+</li>
        
          <li>iOS 10.0+</li>
        
          <li>tvOS 10.0+</li>
        
          <li>watchOS 3.0+</li>
        
      </ul>
    </aside>
  


            


<p>A delegate that can be provided to <a href="../types/persistentcontainer.html?swift" class="j2-swift"><code>PersistentContainer</code></a><a href="../types/persistentcontainer.html?objc" class="j2-objc j2-secondary"><code>PersistentContainer</code></a> or <a href="../types/persistentcloudkitcontainer.html?swift" class="j2-swift"><code>PersistentCloudKitContainer</code></a><a href="../types/persistentcloudkitcontainer.html?objc" class="j2-objc j2-secondary"><code>PersistentCloudKitContainer</code></a>
to receive events describing the progress of migrations. These events can be used to update a user
interface or for app internal logging.</p>
<p>All methods are called while <a href="../types/persistentcontainer.html?swift#loadpersistentstorescompletionhandler1" class="j2-swift"><code>PersistentContainer.loadPersistentStores(...)</code></a><a href="../types/persistentcontainer.html?objc#loadpersistentstorescompletionhandler1" class="j2-objc j2-secondary"><code>-[PersistentContainer loadPersistentStoresWithCompletionHandler:]</code></a> is active.
If <em>any</em> of the <a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription?language=swift" class="j2-swift"><code>NSPersistentStoreDescription</code></a><a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription?language=objc" class="j2-objc j2-secondary"><code>NSPersistentStoreDescription</code></a>s have the <code>shouldAddStoreAsynchronously</code> flag
set to <code>true</code> then all methods are called on a private background queue. If all of the store
descriptions have the flag set to <code>false</code> then the methods are called on the same queue on which
<a href="../types/persistentcontainer.html?swift#loadpersistentstorescompletionhandler1" class="j2-swift"><code>PersistentContainer.loadPersistentStores(...)</code></a><a href="../types/persistentcontainer.html?objc#loadpersistentstorescompletionhandler1" class="j2-objc j2-secondary"><code>-[PersistentContainer loadPersistentStoresWithCompletionHandler:]</code></a> was called.</p>
<p>The stores in <code>PersistentContainer.persistentStoreDescriptions</code> are processed sequentially.
Stores that are not migratable (not on disk) are ignored and do not represent in this delegate.</p>
<p>A store that does not require migration (the normal case!) sees the sequence:</p>
<ol>
<li>willConsiderStore</li>
<li>willNotMigrateStore</li>
</ol>
<p>A store requiring a 2-step migration sees the sequence:</p>
<ol>
<li>willConsiderStore</li>
<li>willMigrateStore - totalSteps=2</li>
<li>willSingleMigrateStore - stepsRemaining=2</li>
<li>willSingleMigrateStore - stepsRemaining=1</li>
<li>didMigrateStore</li>
</ol>
<p>Errors can occur at any point following <code>willConsiderStore</code> for example:</p>
<ol>
<li>willConsiderStore</li>
<li>willMigrateStore - totalSteps=8</li>
<li>didFailToMigrateStore</li>
</ol>



            



          </div>
          
          
          <nav aria-label="item details" class="j2-main-item-nav">
            <a href="https://github.com/johnfairh/TMLPersistentContainer/tree/master/Sources/MigrationDelegate.swift#L44-L120">Show on GitHub</a>
          </nav>
          
          
        </section>

        
<div class="j2-swift">
<hr/>
<section>
  <h1 class="visually-hidden">Topics</h1>
  
  <section class="j2-swift">
  
  <a name="//apple_ref/cpp/Section/Methods" class="dashAnchor"></a>
  <h3 class="j2-anchor" id="tpc-methods">
    <span data-anchor-id="tpc-methods">Methods</span>
  </h3>
  
  
  
  
  
    <section id="persistentcontainer_didfailtomigratestoreerror" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20persistentContainer(NSPersistentContainer,%20didFailToMigrateStore%3A%20NSPersistentStoreDescription,%20error%3A%20Error)" class="dashAnchor j2-item-dash-anchor" data-item-id="persistentcontainer_didfailtomigratestoreerror"></a>
    <h4 class="visually-hidden">func persistentContainer(NSPersistentContainer, didFailToMigrateStore: NSPersistentStoreDescription, error: Error)</h4>
    
    
    <a class="j2-item-title" href="#_persistentcontainer_didfailtomigratestoreerror" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_persistentcontainer_didfailtomigratestoreerror"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>persistentContainer<span class="j2-item-secondary">(NSPersistentContainer, </span>didFailToMigrateStore<span class="j2-item-secondary">: NSPersistentStoreDescription, </span>error<span class="j2-item-secondary">: Error)</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_persistentcontainer_didfailtomigratestoreerror">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<div class="j2-callout j2-callout-note">
  <div class="j2-callout-title" role=heading aria-level="6">Note</div>
  <p>Has a default implementation.</p>
</div>

<p>Called after an error has occurred during or before migrating a store.
The <a href="../types/persistentcontainer.html?swift#loadpersistentstorescompletionhandler1" class="j2-swift"><code>PersistentContainer.loadPersistentStores(...)</code></a><a href="../types/persistentcontainer.html?objc#loadpersistentstorescompletionhandler1" class="j2-objc j2-secondary"><code>-[PersistentContainer loadPersistentStoresWithCompletionHandler:]</code></a> error callback will be made later.</p>


  <h5>Default Implementation</h5>
  <p>Do nothing.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">func persistentContainer(
    _ container: <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift">NSPersistentContainer</a>,
    didFailToMigrateStore: <a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription?language=swift">NSPersistentStoreDescription</a>,
    error: <a href="https://developer.apple.com/documentation/swift/error?language=swift">Error</a>)</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>container</code></td>
        <td><p>The <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift" class="j2-swift"><code>NSPersistentContainer</code></a><a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=objc" class="j2-objc j2-secondary"><code>NSPersistentContainer</code></a> asked to load the store.</p></td>
      </tr>
      
      <tr>
        <td><code>didFailToMigrateStore</code></td>
        <td><p>The store that could not be migrated.</p></td>
      </tr>
      
      <tr>
        <td><code>error</code></td>
        <td><p>The reason the store could not be migrated, could be from <a href="../types/migrationerror.html?swift"><code>MigrationError</code></a>.</p></td>
      </tr>
      
    </tbody>
  </table>




          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/TMLPersistentContainer/tree/master/Sources/MigrationDelegate.swift#L117">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="persistentcontainer_didmigratestore" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20persistentContainer(NSPersistentContainer,%20didMigrateStore%3A%20NSPersistentStoreDescription)" class="dashAnchor j2-item-dash-anchor" data-item-id="persistentcontainer_didmigratestore"></a>
    <h4 class="visually-hidden">func persistentContainer(NSPersistentContainer, didMigrateStore: NSPersistentStoreDescription)</h4>
    
    
    <a class="j2-item-title" href="#_persistentcontainer_didmigratestore" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_persistentcontainer_didmigratestore"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>persistentContainer<span class="j2-item-secondary">(NSPersistentContainer, </span>didMigrateStore<span class="j2-item-secondary">: NSPersistentStoreDescription)</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_persistentcontainer_didmigratestore">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<div class="j2-callout j2-callout-note">
  <div class="j2-callout-title" role=heading aria-level="6">Note</div>
  <p>Has a default implementation.</p>
</div>

<p>Called after a successful store migration.</p>


  <h5>Default Implementation</h5>
  <p>Do nothing.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">func persistentContainer(
    _ container: <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift">NSPersistentContainer</a>,
    didMigrateStore: <a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription?language=swift">NSPersistentStoreDescription</a>)</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>container</code></td>
        <td><p>The <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift" class="j2-swift"><code>NSPersistentContainer</code></a><a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=objc" class="j2-objc j2-secondary"><code>NSPersistentContainer</code></a> asked to load the store.</p></td>
      </tr>
      
      <tr>
        <td><code>didMigrateStore</code></td>
        <td><p>The store that has been migrated.</p></td>
      </tr>
      
    </tbody>
  </table>




          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/TMLPersistentContainer/tree/master/Sources/MigrationDelegate.swift#L107">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="persistentcontainer_willconsiderstore" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20persistentContainer(NSPersistentContainer,%20willConsiderStore%3A%20NSPersistentStoreDescription)" class="dashAnchor j2-item-dash-anchor" data-item-id="persistentcontainer_willconsiderstore"></a>
    <h4 class="visually-hidden">func persistentContainer(NSPersistentContainer, willConsiderStore: NSPersistentStoreDescription)</h4>
    
    
    <a class="j2-item-title" href="#_persistentcontainer_willconsiderstore" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_persistentcontainer_willconsiderstore"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>persistentContainer<span class="j2-item-secondary">(NSPersistentContainer, </span>willConsiderStore<span class="j2-item-secondary">: NSPersistentStoreDescription)</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_persistentcontainer_willconsiderstore">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<div class="j2-callout j2-callout-note">
  <div class="j2-callout-title" role=heading aria-level="6">Note</div>
  <p>Has a default implementation.</p>
</div>

<p>Called for each store that might need to be migrated, before deciding whether to
migrate it.</p>


  <h5>Default Implementation</h5>
  <p>Do nothing.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">func persistentContainer(
    _ container: <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift">NSPersistentContainer</a>,
    willConsiderStore: <a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription?language=swift">NSPersistentStoreDescription</a>)</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>container</code></td>
        <td><p>The <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift" class="j2-swift"><code>NSPersistentContainer</code></a><a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=objc" class="j2-objc j2-secondary"><code>NSPersistentContainer</code></a> asked to load the store.</p></td>
      </tr>
      
      <tr>
        <td><code>willConsiderStore</code></td>
        <td><p>The store that may be migrated.</p></td>
      </tr>
      
    </tbody>
  </table>




          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/TMLPersistentContainer/tree/master/Sources/MigrationDelegate.swift#L52">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="persistentcontainer_willmigratestoresourcemodelversiondestinationmodelversiontotalsteps" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20persistentContainer(NSPersistentContainer,%20willMigrateStore%3A%20NSPersistentStoreDescription,%20sourceModelVersion%3A%20String,%20destinationModelVersion%3A%20String,%20totalSteps%3A%20Int)" class="dashAnchor j2-item-dash-anchor" data-item-id="persistentcontainer_willmigratestoresourcemodelversiondestinationmodelversiontotalsteps"></a>
    <h4 class="visually-hidden">func persistentContainer(NSPersistentContainer, willMigrateStore: NSPersistentStoreDescription, sourceModelVersion: String, destinationModelVersion: String, totalSteps: Int)</h4>
    
    
    <a class="j2-item-title" href="#_persistentcontainer_willmigratestoresourcemodelversiondestinationmodelversiontotalsteps" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_persistentcontainer_willmigratestoresourcemodelversiondestinationmodelversiontotalsteps"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>persistentContainer<span class="j2-item-secondary">(NSPersistentContainer, </span>willMigrateStore<span class="j2-item-secondary">: NSPersistentStoreDescription, </span>sourceModelVersion<span class="j2-item-secondary">: String, </span>destinationModelVersion<span class="j2-item-secondary">: String, </span>totalSteps<span class="j2-item-secondary">: Int)</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_persistentcontainer_willmigratestoresourcemodelversiondestinationmodelversiontotalsteps">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<div class="j2-callout j2-callout-note">
  <div class="j2-callout-title" role=heading aria-level="6">Note</div>
  <p>Has a default implementation.</p>
</div>

<p>Called for each store that will be migrated, before any migrations start for the store.</p>


  <h5>Default Implementation</h5>
  <p>Do nothing.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">func persistentContainer(
    _ container: <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift">NSPersistentContainer</a>,
    willMigrateStore: <a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription?language=swift">NSPersistentStoreDescription</a>,
    sourceModelVersion: <a href="https://developer.apple.com/documentation/swift/string?language=swift">String</a>,
    destinationModelVersion: <a href="https://developer.apple.com/documentation/swift/string?language=swift">String</a>,
    totalSteps: <a href="https://developer.apple.com/documentation/swift/int?language=swift">Int</a>)</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>container</code></td>
        <td><p>The <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift" class="j2-swift"><code>NSPersistentContainer</code></a><a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=objc" class="j2-objc j2-secondary"><code>NSPersistentContainer</code></a> asked to load the store.</p></td>
      </tr>
      
      <tr>
        <td><code>willMigrateStore</code></td>
        <td><p>The store that will be migrated.</p></td>
      </tr>
      
      <tr>
        <td><code>sourceModelVersion</code></td>
        <td><p>The model version that the store currently has.</p></td>
      </tr>
      
      <tr>
        <td><code>destinationModelVersion</code></td>
        <td><p>The model version that the store will have after all migrations.</p></td>
      </tr>
      
      <tr>
        <td><code>totalSteps</code></td>
        <td><p>The number of separate migration steps that will be executed on the store.</p></td>
      </tr>
      
    </tbody>
  </table>




          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/TMLPersistentContainer/tree/master/Sources/MigrationDelegate.swift#L63">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="persistentcontainer_willnotmigratestorestoreexists" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20persistentContainer(NSPersistentContainer,%20willNotMigrateStore%3A%20NSPersistentStoreDescription,%20storeExists%3A%20Bool)" class="dashAnchor j2-item-dash-anchor" data-item-id="persistentcontainer_willnotmigratestorestoreexists"></a>
    <h4 class="visually-hidden">func persistentContainer(NSPersistentContainer, willNotMigrateStore: NSPersistentStoreDescription, storeExists: Bool)</h4>
    
    
    <a class="j2-item-title" href="#_persistentcontainer_willnotmigratestorestoreexists" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_persistentcontainer_willnotmigratestorestoreexists"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>persistentContainer<span class="j2-item-secondary">(NSPersistentContainer, </span>willNotMigrateStore<span class="j2-item-secondary">: NSPersistentStoreDescription, </span>storeExists<span class="j2-item-secondary">: Bool)</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_persistentcontainer_willnotmigratestorestoreexists">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<div class="j2-callout j2-callout-note">
  <div class="j2-callout-title" role=heading aria-level="6">Note</div>
  <p>Has a default implementation.</p>
</div>

<p>Called for each store that will <em>not</em> be migrated either because it does not exist or
because it is already at the latest version.</p>


  <h5>Default Implementation</h5>
  <p>Do nothing.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">func persistentContainer(
    _ container: <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift">NSPersistentContainer</a>,
    willNotMigrateStore: <a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription?language=swift">NSPersistentStoreDescription</a>,
    storeExists: <a href="https://developer.apple.com/documentation/swift/bool?language=swift">Bool</a>)</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>container</code></td>
        <td><p>The <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift" class="j2-swift"><code>NSPersistentContainer</code></a><a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=objc" class="j2-objc j2-secondary"><code>NSPersistentContainer</code></a> asked to load the store.</p></td>
      </tr>
      
      <tr>
        <td><code>willNotMigrateStore</code></td>
        <td><p>The store that will not be migrated.</p></td>
      </tr>
      
      <tr>
        <td><code>storeExists</code></td>
        <td><p><code>true</code> if the store exists on disk at the right version.</p></td>
      </tr>
      
    </tbody>
  </table>




          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/TMLPersistentContainer/tree/master/Sources/MigrationDelegate.swift#L76">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
  
  
    <section id="persistentcontainer_willsinglemigratestoresourcemodelversiondestinationmodelversionusinginferredmappingwithmigrationmanagertotemporarylocationstepsremainingtotalsteps" class="j2-item j2-swift">
    <a name="//apple_ref/cpp/Method/func%20persistentContainer(NSPersistentContainer,%20willSingleMigrateStore%3A%20NSPersistentStoreDescription,%20sourceModelVersion%3A%20String,%20destinationModelVersion%3A%20String,%20usingInferredMapping%3A%20Bool,%20withMigrationManager%3A%20NSMigrationManager,%20toTemporaryLocation%3A%20URL,%20stepsRemaining%3A%20Int,%20totalSteps%3A%20Int)" class="dashAnchor j2-item-dash-anchor" data-item-id="persistentcontainer_willsinglemigratestoresourcemodelversiondestinationmodelversionusinginferredmappingwithmigrationmanagertotemporarylocationstepsremainingtotalsteps"></a>
    <h4 class="visually-hidden">func persistentContainer(NSPersistentContainer, willSingleMigrateStore: NSPersistentStoreDescription, sourceModelVersion: String, destinationModelVersion: String, usingInferredMapping: Bool, withMigrationManager: NSMigrationManager, toTemporaryLocation: URL, stepsRemaining: Int, totalSteps: Int)</h4>
    
    
    <a class="j2-item-title" href="#_persistentcontainer_willsinglemigratestoresourcemodelversiondestinationmodelversionusinginferredmappingwithmigrationmanagertotemporarylocationstepsremainingtotalsteps" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="_persistentcontainer_willsinglemigratestoresourcemodelversiondestinationmodelversionusinginferredmappingwithmigrationmanagertotemporarylocationstepsremainingtotalsteps"><code>
        <span class="j2-swift"><span class="j2-item-secondary">func </span>persistentContainer<span class="j2-item-secondary">(NSPersistentContainer, </span>willSingleMigrateStore<span class="j2-item-secondary">: NSPersistentStoreDescription, </span>sourceModelVersion<span class="j2-item-secondary">: String, </span>destinationModelVersion<span class="j2-item-secondary">: String, </span>usingInferredMapping<span class="j2-item-secondary">: Bool, </span>withMigrationManager<span class="j2-item-secondary">: NSMigrationManager, </span>toTemporaryLocation<span class="j2-item-secondary">: URL, </span>stepsRemaining<span class="j2-item-secondary">: Int, </span>totalSteps<span class="j2-item-secondary">: Int)</span></span>
        
      </code></a>
    <div class="collapse  j2-item-popopen-wrapper" id="_persistentcontainer_willsinglemigratestoresourcemodelversiondestinationmodelversionusinginferredmappingwithmigrationmanagertotemporarylocationstepsremainingtotalsteps">
      <div class="j2-item-popopen">
        <div class="j2-item-popopen-pointer" role="none presentation"></div>
        <div class="j2-item-popopen-body">
          
            <div class="clearfix">
              
  


              


<div class="j2-callout j2-callout-note">
  <div class="j2-callout-title" role=heading aria-level="6">Note</div>
  <p>Has a default implementation.</p>
</div>

<p>Called before each migration step.</p>


  <h5>Default Implementation</h5>
  <p>Do nothing.</p>



            </div>
            <h5>Declaration</h5>
            <div class="j2-item-declaration">
              
  <div class="j2-swift">
    <div class="j2-callout-title" role="heading" aria-level="6">Swift</div>
    <pre><code class="language-swift">func persistentContainer(
    _ container: <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift">NSPersistentContainer</a>,
    willSingleMigrateStore: <a href="https://developer.apple.com/documentation/coredata/nspersistentstoredescription?language=swift">NSPersistentStoreDescription</a>,
    sourceModelVersion: <a href="https://developer.apple.com/documentation/swift/string?language=swift">String</a>,
    destinationModelVersion: <a href="https://developer.apple.com/documentation/swift/string?language=swift">String</a>,
    usingInferredMapping: <a href="https://developer.apple.com/documentation/swift/bool?language=swift">Bool</a>,
    withMigrationManager: <a href="https://developer.apple.com/documentation/coredata/nsmigrationmanager?language=swift">NSMigrationManager</a>,
    toTemporaryLocation: <a href="https://developer.apple.com/documentation/foundation/url?language=swift">URL</a>,
    stepsRemaining: <a href="https://developer.apple.com/documentation/swift/int?language=swift">Int</a>,
    totalSteps: <a href="https://developer.apple.com/documentation/swift/int?language=swift">Int</a>)</code></pre>
  </div>



            </div>
            
  <h5>Parameters</h5>
  <table class="j2-param-table">
    <tbody>
      
      <tr>
        <td><code>container</code></td>
        <td><p>The <a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=swift" class="j2-swift"><code>NSPersistentContainer</code></a><a href="https://developer.apple.com/documentation/coredata/nspersistentcontainer?language=objc" class="j2-objc j2-secondary"><code>NSPersistentContainer</code></a> asked to load the store.</p></td>
      </tr>
      
      <tr>
        <td><code>willSingleMigrateStore</code></td>
        <td><p>The store that will be migrated.</p></td>
      </tr>
      
      <tr>
        <td><code>sourceModelVersion</code></td>
        <td><p>The model version this step will be from.</p></td>
      </tr>
      
      <tr>
        <td><code>destinationModelVersion</code></td>
        <td><p>The model version this step will be to.</p></td>
      </tr>
      
      <tr>
        <td><code>usingInferredMapping</code></td>
        <td><p><code>true</code> if the mapping model for the step has been inferred.</p></td>
      </tr>
      
      <tr>
        <td><code>withMigrationManager</code></td>
        <td><p>The <a href="https://developer.apple.com/documentation/coredata/nsmigrationmanager?language=swift" class="j2-swift"><code>NSMigrationManager</code></a><a href="https://developer.apple.com/documentation/coredata/nsmigrationmanager?language=objc" class="j2-objc j2-secondary"><code>NSMigrationManager</code></a> that will be used.</p></td>
      </tr>
      
      <tr>
        <td><code>toTemporaryLocation</code></td>
        <td><p>The location on disk of the migrated version of the store.</p></td>
      </tr>
      
      <tr>
        <td><code>stepsRemaining</code></td>
        <td><p>The number of migration steps remaining for the store, <strong>including</strong> this step!</p></td>
      </tr>
      
      <tr>
        <td><code>totalSteps</code></td>
        <td><p>The total number of migration steps for this store.</p></td>
      </tr>
      
    </tbody>
  </table>




          

          <nav class="j2-item-nav" aria-label="item details">
            
            
            <span class="j2-item-nav-item"><a href="https://github.com/johnfairh/TMLPersistentContainer/tree/master/Sources/MigrationDelegate.swift#L92">Show on GitHub</a></span>
            
          </nav>
        </div>
      </div>
    </div>
    
  </section>
  
  
</section>

  
</section>
</div>



        
        <div class="flex-grow-1"></div>
        <nav aria-label="paging" class="j2-pagination pb-3 pt-2">
  <div id="pagination-prev" class="flex-fill">
  
    <a class="j2-swift" href="../types/migrationerror.html?swift" aria-keyshortcuts="p">
  <span aria-hidden="true">&laquo; </span>MigrationError
</a>

    <a class="j2-objc j2-secondary" href="../types/migrationerror.html?swift" aria-keyshortcuts="p">
  <span aria-hidden="true">&laquo; </span>MigrationError
</a>

  
  
  </div>
  <div id="pagination-next" class="flex-fill text-end">
  
    <a class="j2-swift" href="../logging-apis.html?swift" aria-keyshortcuts="n">
  Logging APIs<span aria-hidden="true"> &raquo;</span>
</a>

    <a class="j2-objc j2-secondary" href="../logging-apis.html?swift" aria-keyshortcuts="n">
  Logging APIs<span aria-hidden="true"> &raquo;</span>
</a>

  
  
  </div>
</nav>

        

        </article>
      </main>

      <div class="col-xl d-none d-xl-block j2-aux-nav" id="aux-nav-column">
  <div class="j2-aux-nav-wrapper">
    
    <div class="j2-objc">
    <h6 class="j2-inline-heading">Topics</h6>
    <nav aria-label="page">
      <ul class="j2-aux-group">
        
        <li><a href="#">Declaration</a></li>
        
      </ul>
    </nav>
    </div>
    
    <div class="j2-swift">
    <h6 class="j2-inline-heading">Topics</h6>
    <nav aria-label="page">
      <ul class="j2-aux-group">
        
        <li><a href="#">Declaration</a></li>
        
        <li><a href="#tpc-methods">Methods</a></li>
        
      </ul>
    </nav>
    </div>
    
    
    <h6 class="j2-inline-heading">Actions</h6>
    <ul class="j2-aux-group">
      
      <li><a class="j2-aux-action" id="action-search" href="#" role="button" aria-keyshortcuts="/">Search (/)</a></li>
      
      
      
      <li><a class="j2-aux-action" id="action-collapse" href="#" role="button" aria-keyshortcuts="a">
          <span id="action-collapse-expand">Open all (a)</span>
          <span id="action-collapse-collapse" class="d-none">Close all (a)</span>
      </a></li>
      
      
      
      <li><a class="j2-aux-action" id="action-language" href="#" role="button" aria-keyshortcuts="l">
          <span class="j2-swift">Objective-C (l)</span>
          <span class="j2-objc">Swift (l)</span>
      </a></li>
      
    </ul>
    
  </div>
</div>


    </div> <!-- end row -->

    <footer class="row">
  <div class="col j2-footer small pt-2">
    <p>Distributed under the ISC license.  Maintained by John Fairhurst.</p>
    
    <p>Generated by <a class="link" href="https://github.com/johnfairh/Bebop" target="_blank" rel="external noopener">Bebop v1.7.1</a> using the FW2020 theme, based on technology from <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫</a>.</p>
    
  </div>
</footer>

  </div> <!-- container -->

  <script src="../js/dependencies.min.js"></script>
  
  <script src="../js/fw2020.js"></script>
  </body>
</html>
